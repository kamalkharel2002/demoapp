# Ingress - Manages external HTTP/HTTPS access to services
# Ingress provides load balancing, SSL termination, and name-based virtual hosting
# üìù IMPORTANT: Replace STUDENT_NUMBER with your actual student number (e.g., 0215539)

apiVersion: networking.k8s.io/v1  # API version for Ingress resources
kind: Ingress                     # Resource type - HTTP routing rules
metadata:                         # Ingress information
  name: taskmanager-ingress
  namespace: "02220148"    # üìù Replace STUDENT_NUMBER with your number
  labels:
    app: taskmanager
    student: "02220148"  # üìù Replace with your student number
  annotations:                    # Additional configuration via annotations
    nginx.ingress.kubernetes.io/rewrite-target: /
    
spec:  
  ingressClassName: nginx            
  
  rules:                          # Routing rules
  - host: 02220148.cstapp.site  # üìù Replace STUDENT_NUMBER (e.g., taskmanager-0215539.local)
    http:                         # HTTP routing rules
      paths:                      # URL path routing
      - path: /                   # Root path and all subpaths
        pathType: Prefix          # Path matching type (Prefix, Exact, or ImplementationSpecific)
        backend:                  # Where to send matching requests
          service:                # Target service
            name: taskmanager-service  # Service name (must be in same namespace)
            port:                 # Service port
              number: 80          # Port number on the service
